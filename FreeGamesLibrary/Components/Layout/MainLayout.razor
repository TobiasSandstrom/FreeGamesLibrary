@using FreeGamesLibrary.Store.UiUseState
@using Settings
@inherits LayoutComponentBase
@inject IState<UiState> UiState
@inject IDispatcher dispatcher

<MudThemeProvider Theme="settings.Palette" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<div class="page">
    <main>
        <div style="position:relative;" class="content">
            <MudLayout>
                <MudAppBar Style="position:absolute; top:0;" ELevation="0" Color="Color.Transparent">
                    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="DrawerToggle" />
                </MudAppBar>
                <MudDrawer @bind-Open="_drawerOpen" Elevation="7">
                    <NavMenu />
                </MudDrawer>
                <MudMainContent Style="padding-top:0;">
                    @Body
                </MudMainContent>
            </MudLayout>

        </div>
    </main>
</div>


@code {
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    PageSettings settings = new PageSettings();
}
